<!DOCTYPE html>
<html lang="he" dir="rtl">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>מעבד MIPS החד מחזורי: מדריך מלא</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            animation: {
              "fade-in": "fadeIn 0.6s ease-in",
              "slide-up": "slideUp 0.8s ease-out",
            },
          },
        },
      };
    </script>
    <style>
      @keyframes fadeIn {
        from {
          opacity: 0;
        }
        to {
          opacity: 1;
        }
      }
      @keyframes slideUp {
        from {
          transform: translateY(30px);
          opacity: 0;
        }
        to {
          transform: translateY(0);
          opacity: 1;
        }
      }
      .section-enter {
        animation: fade-in 0.6s ease-in;
      }
      .gradient-bg {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      }
      .code-bg {
        background: linear-gradient(135deg, #1e293b 0%, #334155 100%);
      }
      /* RTL specific styling */
      body {
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
      }
      .rtl-flex {
        flex-direction: row-reverse;
      }
    </style>
  </head>
  <body class="bg-gray-50 font-sans leading-relaxed">
    <nav class="bg-blue-700 shadow-lg mb-8">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="flex items-center justify-between h-16">
          <!-- Desktop Menu -->
          <div
            class="hidden md:flex items-center space-x-8 w-full justify-center text-center"
          >
            <a
              href="index.html"
              class="text-white hover:text-blue-200 px-3 py-2 rounded-md text-lg font-medium transition duration-300 hover:bg-white hover:bg-opacity-20"
            >
              מפה
            </a>
            <a
              href="learn_he.html"
              class="text-white hover:text-blue-200 px-3 py-2 rounded-md text-lg font-medium transition duration-300 hover:bg-white hover:bg-opacity-20"
            >
              למידה
            </a>

            <!-- Language Selector -->
            <div class="relative">
              <button
                onclick="toggleLanguageDropdown()"
                class="text-white hover:text-blue-200 px-3 py-2 rounded-md text-lg font-medium transition duration-300 hover:bg-white hover:bg-opacity-20 flex items-center"
              >
                <span id="current-lang">HE</span>
                <svg
                  class="ml-1 h-4 w-4"
                  fill="none"
                  stroke="currentColor"
                  viewBox="0 0 24 24"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M19 9l-7 7-7-7"
                  ></path>
                </svg>
              </button>

              <div
                id="language-dropdown"
                class="hidden absolute right-0 mt-2 w-24 bg-white rounded-md shadow-lg z-50"
              >
                <div class="py-1">
                  <button
                    onclick="selectLanguage('EN')"
                    class="block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-blue-50 hover:text-blue-600"
                  >
                    EN
                  </button>
                  <button
                    onclick="selectLanguage('HE')"
                    class="block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-blue-50 hover:text-blue-600"
                  >
                    HE
                  </button>
                </div>
              </div>
            </div>
          </div>

          <!-- Mobile menu button -->
          <div class="md:hidden flex items-center">
            <button
              onclick="toggleMobileMenu()"
              class="text-white hover:text-blue-200 p-2 rounded-md"
            >
              <svg
                id="menu-icon"
                class="h-6 w-6"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M4 6h16M4 12h16M4 18h16"
                ></path>
              </svg>
              <svg
                id="close-icon"
                class="h-6 w-6 hidden"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M6 18L18 6M6 6l12 12"
                ></path>
              </svg>
            </button>
          </div>
        </div>

        <!-- Mobile Menu -->
        <div id="mobile-menu" class="hidden md:hidden pb-4">
          <div class="flex flex-col space-y-2">
            <a
              href="index.html"
              class="text-white hover:text-blue-200 px-3 py-2 rounded-md text-lg font-medium transition duration-300 hover:bg-white hover:bg-opacity-20"
            >
              מפה
            </a>
            <a
              href="learn_he.html"
              class="text-white hover:text-blue-200 px-3 py-2 rounded-md text-lg font-medium transition duration-300 hover:bg-white hover:bg-opacity-20"
            >
              למידה
            </a>

            <!-- Mobile Language Selector -->
            <div class="px-3 py-2">
              <span class="text-white text-sm opacity-75 block mb-2"
                >Language:</span
              >
              <div class="flex space-x-3">
                <button
                  onclick="selectLanguage('EN')"
                  id="mobile-en"
                  class="px-3 py-1 rounded-md text-sm font-medium bg-white bg-opacity-20 text-white"
                >
                  EN
                </button>
                <button
                  onclick="selectLanguage('HE')"
                  id="mobile-he"
                  class="px-3 py-1 rounded-md text-sm font-medium text-white hover:bg-white hover:bg-opacity-20"
                >
                  HE
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </nav>

    <!-- Hero Section -->
    <div class="gradient-bg text-white py-20">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
        <h1 class="text-5xl font-bold mb-6 animate-fade-in">
          מעבד MIPS החד מחזורי
        </h1>
        <p class="text-xl mb-8 opacity-90 animate-slide-up max-w-3xl mx-auto">
          מדריך מקיף להבנת העקרונות הבסיסיים של ארכיטקטורת מחשבים דרך עיצוב מעבד
          MIPS החד מחזורי
        </p>
        <div class="flex justify-center space-x-4 space-x-reverse">
          <div class="bg-white/20 backdrop-blur-sm rounded-lg p-6 text-center">
            <div class="text-3xl font-bold">32</div>
            <div class="text-sm opacity-80">רגיסטרים</div>
          </div>
          <div class="bg-white/20 backdrop-blur-sm rounded-lg p-6 text-center">
            <div class="text-3xl font-bold">1</div>
            <div class="text-sm opacity-80">מחזור שעון</div>
          </div>
          <div class="bg-white/20 backdrop-blur-sm rounded-lg p-6 text-center">
            <div class="text-3xl font-bold">8</div>
            <div class="text-sm opacity-80">אותות בקרה</div>
          </div>
        </div>
      </div>
    </div>

    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16">
      <!-- Introduction -->
      <section id="introduction" class="mb-16 section-enter">
        <div class="bg-white rounded-2xl shadow-xl p-8 border border-gray-200">
          <h2 class="text-4xl font-bold text-gray-900 mb-6 text-center">
            הקדמה
          </h2>
          <div class="prose prose-lg max-w-none">
            <p class="text-gray-700 leading-relaxed mb-6">
              מעבד החד מחזורי הוא עיצוב של יחידת עיבוד מרכזית שבו כל הוראה
              מבוצעת במלואה במחזור שעון אחד. ארכיטקטורת MIPS (מיקרומעבד ללא שלבי
              צינור נעולים) מספקת דוגמה מצוינת לאופן הפעולה של מעבדים כאלה,
              המשלבת פשטות עם ערך חינוכי להבנת עקרונות יסוד של ארכיטקטורת
              מחשבים.
            </p>
          </div>
        </div>
      </section>

      <!-- Architecture Overview -->
      <section id="architecture" class="mb-16 section-enter">
        <div class="bg-white rounded-2xl shadow-xl p-8 border border-gray-200">
          <h2 class="text-4xl font-bold text-gray-900 mb-8 text-center">
            סקירת ארכיטקטורת MIPS
          </h2>

          <!-- CPU Registers -->
          <div class="mb-12">
            <h3
              class="text-2xl font-semibold text-gray-800 mb-6 flex items-center"
            >
              <span
                class="bg-indigo-100 text-indigo-600 rounded-full w-8 h-8 flex items-center justify-center text-sm font-bold ml-3"
                >1</span
              >
              רגיסטרי המעבד
            </h3>
            <div class="bg-gray-50 rounded-xl p-6 mb-6">
              <p class="text-gray-700 mb-4">
                מעבד MIPS מכיל <strong>32 רגיסטרים למטרה כללית</strong>, כל אחד
                ברוחב 32 ביט:
              </p>
            </div>

            <div class="overflow-x-auto">
              <table
                class="w-full bg-white border border-gray-300 rounded-lg shadow-sm"
              >
                <thead class="bg-indigo-50">
                  <tr>
                    <th
                      class="px-6 py-4 text-right font-semibold text-gray-900 border-b"
                    >
                      רגיסטר
                    </th>
                    <th
                      class="px-6 py-4 text-right font-semibold text-gray-900 border-b"
                    >
                      שם
                    </th>
                    <th
                      class="px-6 py-4 text-right font-semibold text-gray-900 border-b"
                    >
                      שימוש
                    </th>
                  </tr>
                </thead>
                <tbody class="divide-y divide-gray-200">
                  <tr class="hover:bg-gray-50">
                    <td class="px-6 py-4 font-mono text-sm">$0</td>
                    <td class="px-6 py-4 font-mono text-sm">$zero</td>
                    <td class="px-6 py-4 text-sm">קבוע באפס</td>
                  </tr>
                  <tr class="hover:bg-gray-50">
                    <td class="px-6 py-4 font-mono text-sm">$1</td>
                    <td class="px-6 py-4 font-mono text-sm">$at</td>
                    <td class="px-6 py-4 text-sm">שמור לאסמבלר</td>
                  </tr>
                  <tr class="hover:bg-gray-50">
                    <td class="px-6 py-4 font-mono text-sm">$2-$3</td>
                    <td class="px-6 py-4 font-mono text-sm">$v0, $v1</td>
                    <td class="px-6 py-4 text-sm">ערכי החזרה מפונקציות</td>
                  </tr>
                  <tr class="hover:bg-gray-50">
                    <td class="px-6 py-4 font-mono text-sm">$4-$7</td>
                    <td class="px-6 py-4 font-mono text-sm">$a0-$a3</td>
                    <td class="px-6 py-4 text-sm">ארגומנטים לפונקציות</td>
                  </tr>
                  <tr class="hover:bg-gray-50">
                    <td class="px-6 py-4 font-mono text-sm">$8-$15</td>
                    <td class="px-6 py-4 font-mono text-sm">$t0-$t7</td>
                    <td class="px-6 py-4 text-sm">רגיסטרים זמניים</td>
                  </tr>
                  <tr class="hover:bg-gray-50">
                    <td class="px-6 py-4 font-mono text-sm">$16-$23</td>
                    <td class="px-6 py-4 font-mono text-sm">$s0-$s7</td>
                    <td class="px-6 py-4 text-sm">רגיסטרים נשמרים</td>
                  </tr>
                  <tr class="hover:bg-gray-50">
                    <td class="px-6 py-4 font-mono text-sm">$24-$25</td>
                    <td class="px-6 py-4 font-mono text-sm">$t8-$t9</td>
                    <td class="px-6 py-4 text-sm">רגיסטרים זמניים</td>
                  </tr>
                  <tr class="hover:bg-gray-50">
                    <td class="px-6 py-4 font-mono text-sm">$26-$27</td>
                    <td class="px-6 py-4 font-mono text-sm">$k0-$k1</td>
                    <td class="px-6 py-4 text-sm">שמורים לליבת הפעלה</td>
                  </tr>
                  <tr class="hover:bg-gray-50">
                    <td class="px-6 py-4 font-mono text-sm">$28</td>
                    <td class="px-6 py-4 font-mono text-sm">$gp</td>
                    <td class="px-6 py-4 text-sm">מצביע גלובלי</td>
                  </tr>
                  <tr class="hover:bg-gray-50">
                    <td class="px-6 py-4 font-mono text-sm">$29</td>
                    <td class="px-6 py-4 font-mono text-sm">$sp</td>
                    <td class="px-6 py-4 text-sm">מצביע מחסנית</td>
                  </tr>
                  <tr class="hover:bg-gray-50">
                    <td class="px-6 py-4 font-mono text-sm">$30</td>
                    <td class="px-6 py-4 font-mono text-sm">$fp</td>
                    <td class="px-6 py-4 text-sm">מצביע מסגרת</td>
                  </tr>
                  <tr class="hover:bg-gray-50">
                    <td class="px-6 py-4 font-mono text-sm">$31</td>
                    <td class="px-6 py-4 font-mono text-sm">$ra</td>
                    <td class="px-6 py-4 text-sm">כתובת החזרה</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>

          <!-- Special Registers -->
          <div class="mb-12">
            <h3
              class="text-2xl font-semibold text-gray-800 mb-6 flex items-center"
            >
              <span
                class="bg-indigo-100 text-indigo-600 rounded-full w-8 h-8 flex items-center justify-center text-sm font-bold ml-3"
                >2</span
              >
              רגיסטרים מיוחדים
            </h3>
            <div class="grid md:grid-cols-3 gap-6">
              <div
                class="bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg p-6 border border-blue-200"
              >
                <h4 class="font-semibold text-blue-900 mb-2">
                  (PC (מונה תוכנית
                </h4>
                <p class="text-sm text-blue-800">
                  מכיל כתובת של ההוראה הבאה לביצוע
                </p>
              </div>
              <div
                class="bg-gradient-to-br from-green-50 to-green-100 rounded-lg p-6 border border-green-200"
              >
                <h4 class="font-semibold text-green-900 mb-2">רגיסטר HI</h4>
                <p class="text-sm text-green-800">
                  מחזיק 32 הביטים העליונים של תוצאת הכפל
                </p>
              </div>
              <div
                class="bg-gradient-to-br from-purple-50 to-purple-100 rounded-lg p-6 border border-purple-200"
              >
                <h4 class="font-semibold text-purple-900 mb-2">רגיסטר LO</h4>
                <p class="text-sm text-purple-800">
                  מחזיק 32 הביטים התחתונים של תוצאת הכפל
                </p>
              </div>
            </div>
          </div>

          <!-- Memory Organization -->
          <div class="mb-12">
            <h3
              class="text-2xl font-semibold text-gray-800 mb-6 flex items-center"
            >
              <span
                class="bg-indigo-100 text-indigo-600 rounded-full w-8 h-8 flex items-center justify-center text-sm font-bold ml-3"
                >3</span
              >
              ארגון הזיכרון
            </h3>
            <div class="grid md:grid-cols-2 gap-8">
              <!-- Key Features -->
              <div class="bg-gray-50 rounded-xl p-6">
                <h4 class="font-semibold text-gray-800 mb-4">
                  מאפיינים עיקריים
                </h4>
                <ul class="space-y-2 text-gray-700">
                  <li class="flex items-center">
                    <span class="w-2 h-2 bg-indigo-500 rounded-full ml-3"></span
                    >זיכרון הניתן לכתובת בייט
                  </li>
                  <li class="flex items-center">
                    <span class="w-2 h-2 bg-indigo-500 rounded-full ml-3"></span
                    >כתובות 32 ביט (שטח 4GB)
                  </li>
                  <li class="flex items-center">
                    <span class="w-2 h-2 bg-indigo-500 rounded-full ml-3"></span
                    >סדר בייטים big-endian
                  </li>
                  <li class="flex items-center">
                    <span class="w-2 h-2 bg-indigo-500 rounded-full ml-3"></span
                    >נדרש יישור מילים
                  </li>
                </ul>
              </div>
              <!-- Data Sizes -->
              <div class="bg-gray-50 rounded-xl p-6">
                <h4 class="font-semibold text-gray-800 mb-4">גדלי נתונים</h4>
                <div class="space-y-3">
                  <div
                    class="flex justify-between items-center py-2 px-3 bg-white rounded border"
                  >
                    <span class="font-medium">מילה</span>
                    <span
                      class="text-sm bg-indigo-100 text-indigo-700 px-2 py-1 rounded"
                      >32 ביט</span
                    >
                  </div>
                  <div
                    class="flex justify-between items-center py-2 px-3 bg-white rounded border"
                  >
                    <span class="font-medium">חצי מילה</span>
                    <span
                      class="text-sm bg-green-100 text-green-700 px-2 py-1 rounded"
                      >16 ביט</span
                    >
                  </div>
                  <div
                    class="flex justify-between items-center py-2 px-3 bg-white rounded border"
                  >
                    <span class="font-medium">בייט</span>
                    <span
                      class="text-sm bg-orange-100 text-orange-700 px-2 py-1 rounded"
                      >8 ביט</span
                    >
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Instruction Types -->
      <section id="instructions" class="mb-16 section-enter">
        <div class="bg-white rounded-2xl shadow-xl p-8 border border-gray-200">
          <h2 class="text-4xl font-bold text-gray-900 mb-8 text-center">
            סוגי הוראות ופורמטים
          </h2>

          <div class="grid lg:grid-cols-3 gap-8">
            <!-- R-Type -->
            <div
              class="bg-gradient-to-br from-red-50 to-red-100 rounded-xl p-6 border border-red-200"
            >
              <h3 class="text-xl font-bold text-red-900 mb-4">הוראות R-Type</h3>
              <div
                class="code-bg text-white p-4 rounded-lg mb-4 font-mono text-xs"
              >
                <div class="grid grid-cols-6 gap-1 text-center">
                  <div class="bg-white/20 p-1 rounded">op(6)</div>
                  <div class="bg-white/20 p-1 rounded">rs(5)</div>
                  <div class="bg-white/20 p-1 rounded">rt(5)</div>
                  <div class="bg-white/20 p-1 rounded">rd(5)</div>
                  <div class="bg-white/20 p-1 rounded">shamt(5)</div>
                  <div class="bg-white/20 p-1 rounded">func(6)</div>
                </div>
              </div>
              <div class="space-y-2 text-sm">
                <div class="bg-white/60 p-2 rounded">
                  <code>add $rd, $rs, $rt</code>
                </div>
                <div class="bg-white/60 p-2 rounded">
                  <code>sub $rd, $rs, $rt</code>
                </div>
                <div class="bg-white/60 p-2 rounded">
                  <code>and $rd, $rs, $rt</code>
                </div>
                <div class="bg-white/60 p-2 rounded">
                  <code>slt $rd, $rs, $rt</code>
                </div>
              </div>
            </div>

            <!-- I-Type -->
            <div
              class="bg-gradient-to-br from-green-50 to-green-100 rounded-xl p-6 border border-green-200"
            >
              <h3 class="text-xl font-bold text-green-900 mb-4">
                הוראות I-Type
              </h3>
              <div
                class="code-bg text-white p-4 rounded-lg mb-4 font-mono text-xs"
              >
                <div class="grid grid-cols-3 gap-1 text-center">
                  <div class="bg-white/20 p-1 rounded">opcode(6)</div>
                  <div class="bg-white/20 p-1 rounded">rs(5) rt(5)</div>
                  <div class="bg-white/20 p-1 rounded">immediate(16)</div>
                </div>
              </div>
              <div class="space-y-2 text-sm">
                <div class="bg-white/60 p-2 rounded">
                  <code>addi $rt, $rs, imm</code>
                </div>
                <div class="bg-white/60 p-2 rounded">
                  <code>lw $rt, offset($rs)</code>
                </div>
                <div class="bg-white/60 p-2 rounded">
                  <code>sw $rt, offset($rs)</code>
                </div>
                <div class="bg-white/60 p-2 rounded">
                  <code>beq $rs, $rt, label</code>
                </div>
              </div>
            </div>

            <!-- J-Type -->
            <div
              class="bg-gradient-to-br from-blue-50 to-blue-100 rounded-xl p-6 border border-blue-200"
            >
              <h3 class="text-xl font-bold text-blue-900 mb-4">
                הוראות J-Type
              </h3>
              <div
                class="code-bg text-white p-4 rounded-lg mb-4 font-mono text-xs"
              >
                <div class="grid grid-cols-2 gap-1 text-center">
                  <div class="bg-white/20 p-1 rounded">opcode(6)</div>
                  <div class="bg-white/20 p-1 rounded">address(26)</div>
                </div>
              </div>
              <div class="space-y-2 text-sm">
                <div class="bg-white/60 p-2 rounded"><code>j label</code></div>
                <div class="bg-white/60 p-2 rounded">
                  <code>jal label</code>
                </div>
              </div>
              <div class="mt-4 p-3 bg-blue-200 rounded text-xs text-blue-800">
                <strong>טווח קפיצה:</strong> קטע 256MB (64M הוראות)
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Branch and Jump Calculations -->
      <section class="mb-16 section-enter">
        <div class="bg-white rounded-2xl shadow-xl p-8 border border-gray-200">
          <h2 class="text-4xl font-bold text-gray-900 mb-8 text-center">
            חישוב כתובות
          </h2>

          <div class="grid md:grid-cols-2 gap-8">
            <div
              class="bg-gradient-to-br from-orange-50 to-orange-100 rounded-xl p-6 border border-orange-200"
            >
              <h3 class="text-2xl font-bold text-orange-900 mb-4">
                הוראות הסתעפות
              </h3>
              <div class="bg-white/60 p-4 rounded-lg mb-4">
                <div class="font-mono text-sm text-center">
                  <div class="mb-2">כתובת יעד =</div>
                  <div class="bg-orange-200 p-2 rounded">
                    PC + 4 + (immediate × 4)
                  </div>
                </div>
              </div>
              <div class="space-y-2 text-sm">
                <div class="flex justify-between">
                  <span class="font-semibold">טווח:</span>
                  <span>±128KB</span>
                </div>
                <div class="flex justify-between">
                  <span class="font-semibold">הוראות:</span>
                  <span>±32K</span>
                </div>
              </div>
              <div class="mt-4 p-3 bg-orange-200 rounded text-xs">
                <strong>דוגמה:</strong> beq $t0, $t1, loop
              </div>
            </div>

            <div
              class="bg-gradient-to-br from-teal-50 to-teal-100 rounded-xl p-6 border border-teal-200"
            >
              <h3 class="text-2xl font-bold text-teal-900 mb-4">
                הוראות קפיצה
              </h3>
              <div class="bg-white/60 p-4 rounded-lg mb-4">
                <div class="font-mono text-sm text-center">
                  <div class="mb-2">כתובת יעד =</div>
                  <div class="bg-teal-200 p-2 rounded">
                    {PC+4[31:28], address[25:0], 00}
                  </div>
                </div>
              </div>
              <div class="space-y-2 text-sm">
                <div class="flex justify-between">
                  <span class="font-semibold">טווח:</span>
                  <span>קטע 256MB</span>
                </div>
                <div class="flex justify-between">
                  <span class="font-semibold">הוראות:</span>
                  <span>64M</span>
                </div>
              </div>
              <div class="mt-4 p-3 bg-teal-200 rounded text-xs">
                <strong>דוגמה:</strong> j main_function
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Single-Cycle Datapath -->
      <section id="datapath" class="mb-16 section-enter">
        <div class="bg-white rounded-2xl shadow-xl p-8 border border-gray-200">
          <h2 class="text-4xl font-bold text-gray-900 mb-8 text-center">
            נתיב הנתונים במחזור יחיד (Single-Cycle Datapath)
          </h2>

          <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6 mb-12">
            <div
              class="bg-gradient-to-br from-indigo-50 to-indigo-100 rounded-xl p-6 border border-indigo-200"
            >
              <div class="text-3xl mb-3">📚</div>
              <h3 class="font-bold text-indigo-900 mb-2">
                זיכרון הוראות (Instruction Memory)
              </h3>
              <p class="text-sm text-indigo-800">
                מאחסן הוראות התוכנית, נגיש באמצעות PC
              </p>
            </div>

            <div
              class="bg-gradient-to-br from-purple-50 to-purple-100 rounded-xl p-6 border border-purple-200"
            >
              <div class="text-3xl mb-3">🗃️</div>
              <h3 class="font-bold text-purple-900 mb-2">
                קובץ רגיסטרים (Register File)
              </h3>
              <p class="text-sm text-purple-800">
                32 רגיסטרים עם 2 יציאות קריאה, יציאת כתיבה אחת
              </p>
            </div>

            <div
              class="bg-gradient-to-br from-green-50 to-green-100 rounded-xl p-6 border border-green-200"
            >
              <div class="text-3xl mb-3">🧮</div>
              <h3 class="font-bold text-green-900 mb-2">
                יחידה אריתמטית-לוגית (ALU)
              </h3>
              <p class="text-sm text-green-800">
                מבצע פעולות אריתמטיות/לוגיות, מפיק דגל Zero
              </p>
            </div>

            <div
              class="bg-gradient-to-br from-red-50 to-red-100 rounded-xl p-6 border border-red-200"
            >
              <div class="text-3xl mb-3">💾</div>
              <h3 class="font-bold text-red-900 mb-2">
                זיכרון נתונים (Data Memory)
              </h3>
              <p class="text-sm text-red-800">
                מאחסן נתוני התוכנית, תומך בפעולות load/store
              </p>
            </div>

            <div
              class="bg-gradient-to-br from-yellow-50 to-yellow-100 rounded-xl p-6 border border-yellow-200"
            >
              <div class="text-3xl mb-3">📏</div>
              <h3 class="font-bold text-yellow-900 mb-2">
                הרחבת סימן (Sign Extension)
              </h3>
              <p class="text-sm text-yellow-800">
                מרחיב ערכים מיידיים מ-16 ביט ל-32 ביט עם שמירת הסימן
              </p>
            </div>

            <div
              class="bg-gradient-to-br from-teal-50 to-teal-100 rounded-xl p-6 border border-teal-200"
            >
              <div class="text-3xl mb-3">🎛️</div>
              <h3 class="font-bold text-teal-900 mb-2">
                יחידת הבקרה (Control Unit)
              </h3>
              <p class="text-sm text-teal-800">
                מפיקה אותות בקרה על בסיס קוד הפעולה של ההוראה
              </p>
            </div>
          </div>

          <!-- Execution Flow -->
          <div class="bg-gray-50 rounded-xl p-6">
            <h3 class="text-2xl font-semibold text-gray-800 mb-6 text-center">
              זרימת ביצוע הוראות (Instruction Execution Flow)
            </h3>
            <div
              class="flex flex-col md:flex-row justify-between items-center space-y-4 md:space-y-0 md:space-x-4 md:space-x-reverse"
            >
              <div class="flex-1 text-center">
                <div
                  class="w-12 h-12 bg-indigo-500 text-white rounded-full flex items-center justify-center font-bold mb-2 mx-auto"
                >
                  1
                </div>
                <h4 class="font-semibold text-gray-800 mb-2">אחזור (Fetch)</h4>
                <p class="text-sm text-gray-600">
                  קבלת הוראה מהזיכרון באמצעות PC
                </p>
              </div>
              <div class="hidden md:block text-gray-400">←</div>
              <div class="flex-1 text-center">
                <div
                  class="w-12 h-12 bg-indigo-500 text-white rounded-full flex items-center justify-center font-bold mb-2 mx-auto"
                >
                  2
                </div>
                <h4 class="font-semibold text-gray-800 mb-2">פענוח (Decode)</h4>
                <p class="text-sm text-gray-600">
                  יחידת הבקרה מפיקה אותות בקרה
                </p>
              </div>
              <div class="hidden md:block text-gray-400">←</div>
              <div class="flex-1 text-center">
                <div
                  class="w-12 h-12 bg-indigo-500 text-white rounded-full flex items-center justify-center font-bold mb-2 mx-auto"
                >
                  3
                </div>
                <h4 class="font-semibold text-gray-800 mb-2">
                  ביצוע (Execute)
                </h4>
                <p class="text-sm text-gray-600">ALU מבצע את הפעולה הנדרשת</p>
              </div>
              <div class="hidden md:block text-gray-400">←</div>
              <div class="flex-1 text-center">
                <div
                  class="w-12 h-12 bg-indigo-500 text-white rounded-full flex items-center justify-center font-bold mb-2 mx-auto"
                >
                  4
                </div>
                <h4 class="font-semibold text-gray-800 mb-2">
                  זיכרון (Memory)
                </h4>
                <p class="text-sm text-gray-600">
                  גישה לזיכרון נתונים במידת הצורך
                </p>
              </div>
              <div class="hidden md:block text-gray-400">←</div>
              <div class="flex-1 text-center">
                <div
                  class="w-12 h-12 bg-indigo-500 text-white rounded-full flex items-center justify-center font-bold mb-2 mx-auto"
                >
                  5
                </div>
                <h4 class="font-semibold text-gray-800 mb-2">
                  כתיבה חזרה (Write Back)
                </h4>
                <p class="text-sm text-gray-600">
                  כתיבת התוצאה לקובץ הרגיסטרים
                </p>
              </div>
            </div>
          </div>

          <!-- Component Details -->
          <div class="mt-12">
            <h3 class="text-2xl font-semibold text-gray-800 mb-6 text-center">
              פרטי הרכיבים (Component Details)
            </h3>
            <div class="grid md:grid-cols-2 gap-8">
              <!-- Sign Extension Details -->
              <div
                class="bg-gradient-to-br from-yellow-50 to-yellow-100 rounded-xl p-6 border border-yellow-200"
              >
                <h4 class="font-bold text-yellow-900 mb-4">
                  הרחבת סימן (Sign Extension)
                </h4>
                <div class="space-y-3">
                  <div class="bg-white/60 p-3 rounded-lg">
                    <div class="font-semibold text-sm mb-2">תפקיד:</div>
                    <p class="text-sm text-yellow-800">
                      הרחבת שדה immediate מ-16 ביט ל-32 ביט תוך שמירה על הערך
                      המספרי
                    </p>
                  </div>
                  <div class="bg-white/60 p-3 rounded-lg">
                    <div class="font-semibold text-sm mb-2">דוגמה:</div>
                    <div class="font-mono text-xs space-y-1">
                      <div>קלט: 1111 1111 1111 1010 (-6)</div>
                      <div>
                        פלט: 1111 1111 1111 1111 1111 1111 1111 1010 (-6)
                      </div>
                    </div>
                  </div>
                </div>
              </div>

              <!-- Control Unit Details -->
              <div
                class="bg-gradient-to-br from-teal-50 to-teal-100 rounded-xl p-6 border border-teal-200"
              >
                <h4 class="font-bold text-teal-900 mb-4">
                  יחידת הבקרה (Control Unit)
                </h4>
                <div class="space-y-3">
                  <div class="bg-white/60 p-3 rounded-lg">
                    <div class="font-semibold text-sm mb-2">קלט:</div>
                    <p class="text-sm text-teal-800">
                      קוד הפעולה (opcode) - 6 הביטים העליונים של ההוראה
                    </p>
                  </div>
                  <div class="bg-white/60 p-3 rounded-lg">
                    <div class="font-semibold text-sm mb-2">פלט:</div>
                    <p class="text-sm text-teal-800">
                      8 אותות בקרה השולטים בפעולת המעבד
                    </p>
                  </div>
                  <div class="bg-white/60 p-3 rounded-lg">
                    <div class="font-semibold text-sm mb-2">לוגיקה:</div>
                    <p class="text-sm text-teal-800">
                      לוגיקה קומבינטורית המבוססת על טבלת אמת
                    </p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Control Signals Section -->
      <section id="control" class="mb-16 section-enter">
        <div class="bg-white rounded-2xl shadow-xl p-8 border border-gray-200">
          <h2 class="text-4xl font-bold text-gray-900 mb-8 text-center">
            אותות בקרה
          </h2>
          <p class="text-center text-gray-600 mb-8 max-w-3xl mx-auto">
            יחידת הבקרה מפיקה שמונה אותות קריטיים המתאמים את ביצוע ההוראות
          </p>

          <div class="overflow-x-auto">
            <table
              class="w-full bg-white border border-gray-300 rounded-lg shadow-sm"
            >
              <thead class="bg-indigo-50">
                <tr>
                  <th
                    class="px-6 py-4 text-right font-semibold text-gray-900 border-b"
                  >
                    אות
                  </th>
                  <th
                    class="px-6 py-4 text-right font-semibold text-gray-900 border-b"
                  >
                    ערכים
                  </th>
                  <th
                    class="px-6 py-4 text-right font-semibold text-gray-900 border-b"
                  >
                    תפקיד
                  </th>
                </tr>
              </thead>
              <tbody class="divide-y divide-gray-200">
                <tr class="hover:bg-gray-50">
                  <td
                    class="px-6 py-4 font-mono text-sm font-semibold text-indigo-600"
                  >
                    RegDst
                  </td>
                  <td class="px-6 py-4 text-sm">
                    <div class="space-y-1">
                      <div>
                        <span
                          class="bg-green-100 text-green-800 px-2 py-1 rounded text-xs"
                          >0</span
                        >
                        ← רגיסטר Rt
                      </div>
                      <div>
                        <span
                          class="bg-blue-100 text-blue-800 px-2 py-1 rounded text-xs"
                          >1</span
                        >
                        ← רגיסטר Rd
                      </div>
                    </div>
                  </td>
                  <td class="px-6 py-4 text-sm">שולט בבחירת רגיסטר היעד</td>
                </tr>
                <tr class="hover:bg-gray-50">
                  <td
                    class="px-6 py-4 font-mono text-sm font-semibold text-indigo-600"
                  >
                    RegWrite
                  </td>
                  <td class="px-6 py-4 text-sm">
                    <div class="space-y-1">
                      <div>
                        <span
                          class="bg-red-100 text-red-800 px-2 py-1 rounded text-xs"
                          >0</span
                        >
                        ← אין כתיבה
                      </div>
                      <div>
                        <span
                          class="bg-green-100 text-green-800 px-2 py-1 rounded text-xs"
                          >1</span
                        >
                        ← אפשר כתיבה
                      </div>
                    </div>
                  </td>
                  <td class="px-6 py-4 text-sm">מאפשר כתיבה לקובץ הרגיסטרים</td>
                </tr>
                <tr class="hover:bg-gray-50">
                  <td
                    class="px-6 py-4 font-mono text-sm font-semibold text-indigo-600"
                  >
                    ALUSrc
                  </td>
                  <td class="px-6 py-4 text-sm">
                    <div class="space-y-1">
                      <div>
                        <span
                          class="bg-blue-100 text-blue-800 px-2 py-1 rounded text-xs"
                          >0</span
                        >
                        ← האופרנד השני מרגיסטר
                      </div>
                      <div>
                        <span
                          class="bg-green-100 text-green-800 px-2 py-1 rounded text-xs"
                          >1</span
                        >
                        ← האופרנד השני מערך מיידי
                      </div>
                    </div>
                  </td>
                  <td class="px-6 py-4 text-sm">בוחר מקור קלט ALU</td>
                </tr>
                <tr class="hover:bg-gray-50">
                  <td
                    class="px-6 py-4 font-mono text-sm font-semibold text-indigo-600"
                  >
                    MemRead
                  </td>
                  <td class="px-6 py-4 text-sm">
                    <div class="space-y-1">
                      <div>
                        <span
                          class="bg-red-100 text-red-800 px-2 py-1 rounded text-xs"
                          >0</span
                        >
                        ← אין קריאה
                      </div>
                      <div>
                        <span
                          class="bg-green-100 text-green-800 px-2 py-1 rounded text-xs"
                          >1</span
                        >
                        ← קרא מהזיכרון
                      </div>
                    </div>
                  </td>
                  <td class="px-6 py-4 text-sm">
                    שולט בפעולת קריאה מזיכרון הנתונים
                  </td>
                </tr>
                <tr class="hover:bg-gray-50">
                  <td
                    class="px-6 py-4 font-mono text-sm font-semibold text-indigo-600"
                  >
                    MemWrite
                  </td>
                  <td class="px-6 py-4 text-sm">
                    <div class="space-y-1">
                      <div>
                        <span
                          class="bg-red-100 text-red-800 px-2 py-1 rounded text-xs"
                          >0</span
                        >
                        ← אין כתיבה
                      </div>
                      <div>
                        <span
                          class="bg-green-100 text-green-800 px-2 py-1 rounded text-xs"
                          >1</span
                        >
                        ← כתוב לזיכרון
                      </div>
                    </div>
                  </td>
                  <td class="px-6 py-4 text-sm">
                    שולט בפעולת כתיבה לזיכרון הנתונים
                  </td>
                </tr>
                <tr class="hover:bg-gray-50">
                  <td
                    class="px-6 py-4 font-mono text-sm font-semibold text-indigo-600"
                  >
                    MemToReg
                  </td>
                  <td class="px-6 py-4 text-sm">
                    <div class="space-y-1">
                      <div>
                        <span
                          class="bg-blue-100 text-blue-800 px-2 py-1 rounded text-xs"
                          >0</span
                        >
                        ← תוצאת ALU
                      </div>
                      <div>
                        <span
                          class="bg-green-100 text-green-800 px-2 py-1 rounded text-xs"
                          >1</span
                        >
                        ← נתוני זיכרון
                      </div>
                    </div>
                  </td>
                  <td class="px-6 py-4 text-sm">
                    בוחר נתונים לכתיבה חזרה לרגיסטר
                  </td>
                </tr>
                <tr class="hover:bg-gray-50">
                  <td
                    class="px-6 py-4 font-mono text-sm font-semibold text-indigo-600"
                  >
                    Branch
                  </td>
                  <td class="px-6 py-4 text-sm">
                    <div class="space-y-1">
                      <div>
                        <span
                          class="bg-red-100 text-red-800 px-2 py-1 rounded text-xs"
                          >0</span
                        >
                        ← אין הסתעפות
                      </div>
                      <div>
                        <span
                          class="bg-green-100 text-green-800 px-2 py-1 rounded text-xs"
                          >1</span
                        >
                        ← הסתעפות אם דגל Zero מוגדר
                      </div>
                    </div>
                  </td>
                  <td class="px-6 py-4 text-sm">שולט בביצוע הסתעפות מותנית</td>
                </tr>
                <tr class="hover:bg-gray-50">
                  <td
                    class="px-6 py-4 font-mono text-sm font-semibold text-indigo-600"
                  >
                    ALUOp
                  </td>
                  <td class="px-6 py-4 text-sm">
                    <div class="space-y-1">
                      <div>
                        <span
                          class="bg-gray-100 text-gray-800 px-2 py-1 rounded text-xs"
                          >00</span
                        >
                        ← חיבור (למשל lw, sw)
                      </div>
                      <div>
                        <span
                          class="bg-gray-100 text-gray-800 px-2 py-1 rounded text-xs"
                          >01</span
                        >
                        ← חיסור (למשל beq)
                      </div>
                      <div>
                        <span
                          class="bg-gray-100 text-gray-800 px-2 py-1 rounded text-xs"
                          >10</span
                        >
                        ← נקבע על ידי שדה הפונקציה (R-type)
                      </div>
                    </div>
                  </td>
                  <td class="px-6 py-4 text-sm">מציין פעולת ALU</td>
                </tr>
              </tbody>
            </table>
          </div>

          <!-- Control Signals Truth Table -->
          <div class="mt-12">
            <h3 class="text-2xl font-semibold text-gray-800 mb-6 text-center">
              טבלת אמת לאותות בקרה
            </h3>
            <div class="overflow-x-auto">
              <table
                class="w-full bg-white border border-gray-300 rounded-lg shadow-sm text-sm"
              >
                <thead class="bg-gray-100">
                  <tr>
                    <th
                      class="px-4 py-3 text-right font-semibold text-gray-900 border-b"
                    >
                      סוג הוראה
                    </th>
                    <th
                      class="px-4 py-3 text-center font-semibold text-gray-900 border-b"
                    >
                      RegDst
                    </th>
                    <th
                      class="px-4 py-3 text-center font-semibold text-gray-900 border-b"
                    >
                      ALUSrc
                    </th>
                    <th
                      class="px-4 py-3 text-center font-semibold text-gray-900 border-b"
                    >
                      MemToReg
                    </th>
                    <th
                      class="px-4 py-3 text-center font-semibold text-gray-900 border-b"
                    >
                      RegWrite
                    </th>
                    <th
                      class="px-4 py-3 text-center font-semibold text-gray-900 border-b"
                    >
                      MemRead
                    </th>
                    <th
                      class="px-4 py-3 text-center font-semibold text-gray-900 border-b"
                    >
                      MemWrite
                    </th>
                    <th
                      class="px-4 py-3 text-center font-semibold text-gray-900 border-b"
                    >
                      Branch
                    </th>
                    <th
                      class="px-4 py-3 text-center font-semibold text-gray-900 border-b"
                    >
                      ALUOp
                    </th>
                  </tr>
                </thead>
                <tbody class="divide-y divide-gray-200">
                  <tr class="hover:bg-gray-50">
                    <td class="px-4 py-3 font-semibold text-blue-600">
                      R-Type
                    </td>
                    <td class="px-4 py-3 text-center font-mono">1</td>
                    <td class="px-4 py-3 text-center font-mono">0</td>
                    <td class="px-4 py-3 text-center font-mono">0</td>
                    <td class="px-4 py-3 text-center font-mono">1</td>
                    <td class="px-4 py-3 text-center font-mono">0</td>
                    <td class="px-4 py-3 text-center font-mono">0</td>
                    <td class="px-4 py-3 text-center font-mono">0</td>
                    <td class="px-4 py-3 text-center font-mono">10</td>
                  </tr>
                  <tr class="hover:bg-gray-50">
                    <td class="px-4 py-3 font-semibold text-green-600">
                      lw (טעינה)
                    </td>
                    <td class="px-4 py-3 text-center font-mono">0</td>
                    <td class="px-4 py-3 text-center font-mono">1</td>
                    <td class="px-4 py-3 text-center font-mono">1</td>
                    <td class="px-4 py-3 text-center font-mono">1</td>
                    <td class="px-4 py-3 text-center font-mono">1</td>
                    <td class="px-4 py-3 text-center font-mono">0</td>
                    <td class="px-4 py-3 text-center font-mono">0</td>
                    <td class="px-4 py-3 text-center font-mono">00</td>
                  </tr>
                  <tr class="hover:bg-gray-50">
                    <td class="px-4 py-3 font-semibold text-red-600">
                      sw (אחסון)
                    </td>
                    <td class="px-4 py-3 text-center font-mono">X</td>
                    <td class="px-4 py-3 text-center font-mono">1</td>
                    <td class="px-4 py-3 text-center font-mono">X</td>
                    <td class="px-4 py-3 text-center font-mono">0</td>
                    <td class="px-4 py-3 text-center font-mono">0</td>
                    <td class="px-4 py-3 text-center font-mono">1</td>
                    <td class="px-4 py-3 text-center font-mono">0</td>
                    <td class="px-4 py-3 text-center font-mono">00</td>
                  </tr>
                  <tr class="hover:bg-gray-50">
                    <td class="px-4 py-3 font-semibold text-orange-600">
                      beq (הסתעפות)
                    </td>
                    <td class="px-4 py-3 text-center font-mono">X</td>
                    <td class="px-4 py-3 text-center font-mono">0</td>
                    <td class="px-4 py-3 text-center font-mono">X</td>
                    <td class="px-4 py-3 text-center font-mono">0</td>
                    <td class="px-4 py-3 text-center font-mono">0</td>
                    <td class="px-4 py-3 text-center font-mono">0</td>
                    <td class="px-4 py-3 text-center font-mono">1</td>
                    <td class="px-4 py-3 text-center font-mono">01</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="mt-4 text-sm text-gray-600 text-center">
              <span class="font-mono">X</span> = ערך לא משנה (don't care)
            </div>
          </div>
        </div>
      </section>

      <!-- Advantages and Limitations -->
      <section class="mb-16 section-enter">
        <div class="bg-white rounded-2xl shadow-xl p-8 border border-gray-200">
          <h2 class="text-4xl font-bold text-gray-900 mb-8 text-center">
            יתרונות ומגבלות
          </h2>

          <div class="grid md:grid-cols-2 gap-8">
            <!-- Advantages -->
            <div
              class="bg-gradient-to-br from-green-50 to-green-100 rounded-xl p-6 border border-green-200"
            >
              <div class="flex items-center mb-4">
                <div class="text-3xl ml-3">✅</div>
                <h3 class="text-2xl font-bold text-green-900">יתרונות</h3>
              </div>
              <ul class="space-y-3">
                <li class="flex items-start">
                  <div
                    class="w-2 h-2 bg-green-500 rounded-full mt-2 ml-3 flex-shrink-0"
                  ></div>
                  <div>
                    <div class="font-semibold text-green-800">פשטות</div>
                    <div class="text-sm text-green-700">קל להבנה ויישום</div>
                  </div>
                </li>
                <li class="flex items-start">
                  <div
                    class="w-2 h-2 bg-green-500 rounded-full mt-2 ml-3 flex-shrink-0"
                  ></div>
                  <div>
                    <div class="font-semibold text-green-800">תזמון צפוי</div>
                    <div class="text-sm text-green-700">
                      כל הוראה לוקחת בדיוק מחזור אחד
                    </div>
                  </div>
                </li>
                <li class="flex items-start">
                  <div
                    class="w-2 h-2 bg-green-500 rounded-full mt-2 ml-3 flex-shrink-0"
                  ></div>
                  <div>
                    <div class="font-semibold text-green-800">ערך חינוכי</div>
                    <div class="text-sm text-green-700">
                      מושלם ללימוד יסודות המעבד
                    </div>
                  </div>
                </li>
              </ul>
            </div>

            <!-- Limitations -->
            <div
              class="bg-gradient-to-br from-red-50 to-red-100 rounded-xl p-6 border border-red-200"
            >
              <div class="flex items-center mb-4">
                <div class="text-3xl ml-3">⚠️</div>
                <h3 class="text-2xl font-bold text-red-900">מגבלות</h3>
              </div>
              <ul class="space-y-3">
                <li class="flex items-start">
                  <div
                    class="w-2 h-2 bg-red-500 rounded-full mt-2 ml-3 flex-shrink-0"
                  ></div>
                  <div>
                    <div class="font-semibold text-red-800">ביצועים</div>
                    <div class="text-sm text-red-700">
                      נתיב קריטי ארוך מגביל את תדר השעון
                    </div>
                  </div>
                </li>
                <li class="flex items-start">
                  <div
                    class="w-2 h-2 bg-red-500 rounded-full mt-2 ml-3 flex-shrink-0"
                  ></div>
                  <div>
                    <div class="font-semibold text-red-800">ניצול משאבים</div>
                    <div class="text-sm text-red-700">
                      כל היחידות פעילות בכל מחזור, גם כשלא בשימוש
                    </div>
                  </div>
                </li>
                <li class="flex items-start">
                  <div
                    class="w-2 h-2 bg-red-500 rounded-full mt-2 ml-3 flex-shrink-0"
                  ></div>
                  <div>
                    <div class="font-semibold text-red-800">חוסר גמישות</div>
                    <div class="text-sm text-red-700">
                      אינו יכול לבצע אופטימיזציה לפי מורכבות הוראות שונות
                    </div>
                  </div>
                </li>
              </ul>
            </div>
          </div>
        </div>
      </section>
    </div>
  </body>
</html>
